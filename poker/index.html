---
layout: default
title: Simon's Poker Progress
---

<h1>{{ page.title }}</h1>
<div id="cashGraph" style="width: 100%; height: 400px;"></div>
<div id="tourneyGraph" style="width: 100%; height: 400px; margin-top: 25px;"></div>
<div id="liveGraph" style="width: 100%; height: 400px; margin-top: 25px;"></div>
<script src="/js/jquery-1.11.0.min.js"></script>
<script src="/js/canvasjs.min.js"></script>
<script>
	var renderCashGraph = function() {
		$.getJSON( "http://www.divby0.io/fpdb-display/cash_graph.json", function( data ) {
			var startProfit = 0;
			var totalProfits = [];
			$.each(data, function(i) {
				var self = this;
				startProfit = startProfit + self.totalProfit / 100;
				totalProfits.push({label : i + 1, y : startProfit});
			});
			var chart = new CanvasJS.Chart("cashGraph", {
					title : {
						fontSize : 16,
						text : "Cash Game Graph: Total " + totalProfits.length + " Hands, Profit: " + startProfit.toFixed(2)
					},
					data : [
						{
							type : "line",
							dataPoints : totalProfits
						}
					]
			});
			chart.render();
		});
	};



	var renderTourneyGraph = function() {
		$.getJSON( "http://www.divby0.io/fpdb-display/tourney_graph.json", function( data ) {
			var startProfit = 0;
			var totalProfits = [];
			$.each(data, function(i) {
				var self = this;
				startProfit = startProfit + self.profit / 100;
				totalProfits.push({label : i + 1, y : startProfit});
			});
			var chart = new CanvasJS.Chart("tourneyGraph", {
					title : {
						fontSize : 16,
						text : "Tourney Game Graph: Total " + totalProfits.length + " Tourneys, Profit: " + startProfit.toFixed(2)
					},
					data : [
						{
							type : "line",
							dataPoints : totalProfits
						}
					]
			});
			chart.render();
		});
	};

	var renderLiveGraph = function() {
		$.get( "https://docs.google.com/spreadsheet/tq?key=0AhVaAslT4zEtdENWNl9GMlJYbi12M3RON1dKdXg4NlE&transpose=0&headers=1&range=D1%3AD100&gid=0&pub=1", function( data ) {
			console.log(data);
			var m = /.*[(](.*)[);]/g.exec(data);
			var obj = $.parseJSON(m[1]);
			var startProfit = 0;
			var totalProfits = [];
			$.each(obj.rows, function(i) {
				var self = this;
				startProfit = startProfit + self.v;
				totalProfits.push({label : i + 1, y : startProfit});
			});
			var chart = new CanvasJS.Chart("liveGraph", {
					title : {
						fontSize : 16,
						text : "Live Poker (Cash and Tourney) Graph: Total " + totalProfits.length + " Sessions, Profit: " + startProfit.toFixed(2)
					},
					data : [
						{
							type : "line",
							dataPoints : totalProfits
						}
					]
			});
			chart.render();
		});
	};

	$(document).ready(function() {
		renderCashGraph();
		renderTourneyGraph();
		renderLiveGraph();
	});
</script>